<!DOCTYPE html>
<html>
   <head>
      <style>
         html, body {background-color: #ffffff; font-family: Arial, Helvetica, sans-serif; line-height: 150%; margin-left: 225px; margin-right: 225px;}
         #container {margin: 20px auto;}
         #left {width: 360px; padding: 20px; float: left;}
         #right {padding: 20px; overflow: auto;}
         H1 {text-align: center;}
      </style>
      <meta charset="utf-8">
      <title>Demo Page - Video (Outstream) AST Implementation</title>
      <script type="text/javascript">
         //create empty apntag object if it doesn't exist
         var apntag = apntag || {};
         //create a queue on the apntag object
         apntag.anq = apntag.anq || [];
         //load ast.js - async
         (function() {
            var d = document, e = d.createElement('script'), p = d.getElementsByTagName('head')[0];
            e.type = 'text/javascript';  e.async = true;
            e.src = '//acdn.adnxs.com/ast/ast.js';
            p.insertBefore(e, p.firstChild);
         })();
         //push commands to loading queue, to allow for async loading
         apntag.anq.push(function() {
         //set global page options
         apntag.setPageOpts({
             member: 958
             });
         //define ad tags
         apntag.defineTag({
                tagId: 12886207,
                allowedFormats: ['video'],
                sizes: [[1,1]],
                targetId: 'apn_ad_slot_1',
                                rendererOptions: {
                                        "playerTechnology": ["html5","flash"],
                                        "adText": "Ad",
                                        "showMute": true,
                                        "showVolume": true,
                                        "nonViewableBehavior" : "pause",
                                        "showProgressBar": true,
                                        "autoInitialSize": false,
                                        "allowFullscreen": true,
                                        "skippable": {
                                                "videoThreshold": 15,
                                                "videoOffset": 5,
                                                "skipLocation": "top-left",
                                                "skipText": "Video can be skipped in %%TIME%% seconds",
                                                "skipButtonText": "SKIP"
                                        }
                                }
         });
         //start loading tags
         apntag.loadTags();
         });
      </script>
   </head>
   <body>
      <br>
      <h1>Demo Page - Video (Outstream) AST Implementation</h1>
      <br>
      <h4>Instructions</h4>
      </p>Below you will see the code used to define the video tag implemented on this page through AST:</p>
      <code>
      apntag.defineTag({
      tagId: 12886207,
      allowedFormats: ['video'],
      sizes: [[1,1]],
      targetId: 'apn_ad_slot_1',
      rendererOptions: {
      "playerTechnology": ["html5","flash"],
      "adText": "Ad",
      "showMute": true,
      "showVolume": true,
      "nonViewableBehavior" : "pause",
      "showProgressBar": true,
      "autoInitialSize": false,
      "allowFullscreen": true,
      "skippable": {
      "videoThreshold": 15,
      "videoOffset": 5,
      "skipLocation": "top-left",
      "skipText": "Video can be skipped in %%TIME%% seconds",
      "skipButtonText": "SKIP"
      }
      }
      });
      </code>
      <br>
      <h4>Outstream AST tag</h4>
      <div id="apn_ad_slot_1">
         <script type="text/javascript">
            apntag.anq.push(function() {
                //signal to script that this DOM element has been loaded and is ready to be populated with an ad
                apntag.showTag('apn_ad_slot_1');
            });
         </script>
      </div>
      <br>
      <p>Just like for banner, before defining the tag, two other steps need to be implemented in order for this to work. Please follow the implementation documentation which can be found here: <a href="https://wiki.appnexus.com/display/console/Set+up+Placements+with+AST" target=_blank>AppNexus Wiki - Set up Placements with AST</a>.</p>
      <p>For further AST API references, you can refer to the following documentation: <a href="https://wiki.appnexus.com/display/console/AST+API+Reference" target=_blank>AppNexus Wiki - AST API Reference</a>.</p>
      <p>Additionally, for video, it's also important to check the <a href="https://wiki.appnexus.com/display/console/Outstream+Video+Player+Options" target=_blank>Outstream Video Player Options</a> to see how the player can be set up and what kind of options are available.</p>
      <p>Further things to note:</p>
      <ul>
         <li>The tags have to be within a friendly iFrame.</li>
         <li>You can add multiple sizes and media types on the tags so that it will allow banner to serve on the same placement, for example, if there's no video demand available. However, this is not support by all external bidders - so far only DBM, Adcom and comcast are supporting it.</li>
         <li>Even if the above is not supported, it's still good to add both video and banner media types, with video as first option, since if it's not supported, then only the first option will be taken into consideration.</li>
      </ul>
      <p>Finally, regularly checking on the <a href="https://wiki.appnexus.com/display/console/AST+Release+History" target=_blank>AST release history</a> is encouaged so that you can see the latest releases and adjust the code accordingly if needed (due to breaking changes, for example).</p>
      <footer style="color:#999;text-align:center">
         <i><small>Â© 2018 AppNexus Inc. All Rights Reserved</small></i>
      </footer>
   </body>
</html>
